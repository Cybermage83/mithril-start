{"version":3,"sources":["webpack:///main.f7efc5d1434ee7b45b7a.js","webpack:///./src/api/baseUrl.js","webpack:///./src/api/userApi.js","webpack:///./src/index.js"],"names":["webpackJsonp","28","module","exports","getBaseUrl","getQueryStringParamaterByName","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","Object","defineProperty","value","default","3","__webpack_require__","_interopRequireDefault","obj","__esModule","getUsers","get","deleteUser","id","del","_mithril2","request","baseUrl","then","onSuccess","catch","onError","method","response","err","console","log","_mithril","_baseUrl","_baseUrl2","1","0","global","_userApi","result","usersBody","forEach","user","firstName","lastName","email","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","preventDefault","attributes","row","parentNode","removeChild","call","this"],"mappings":"AAAAA,cAAc,IAERC,GACA,SAASC,EAAQC,GAEtB,YCLc,SAASC,KACtB,MAAOC,GAA8B,cAAgB,wBAA0B,IAGjF,QAASA,GAA+BC,EAAMC,GACvCA,IACHA,EAAMC,OAAOC,SAASC,MAExBJ,EAAOA,EAAKK,QAAQ,SAAU,OAC9B,IAAIC,GAAQ,GAAIC,QAAO,OAASP,EAAO,qBACnCQ,EAAUF,EAAMG,KAAKR,EACzB,OAAKO,GACAA,EAAQ,GACNE,mBAAmBF,EAAQ,GAAGH,QAAQ,MAAO,MAD5B,GADH,KDJtBM,OAAOC,eAAef,EAAS,cAC7BgB,OAAO,IAEThB,EAAQiB,QCVehB,GD6BlBiB,EACA,SAASnB,EAAQC,EAASmB,GAE/B,YAgBA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQJ,QAASI,GE1CjF,QAASE,KACd,MAAOC,GAAI,SAGN,QAASC,GAAYC,GAC1B,MAAOC,YAAaD,GAGtB,QAASF,GAAKpB,GACZ,MAAOwB,GAAAX,QAAEY,SACPzB,IAAK0B,EAAU1B,IAEhB2B,KAAKC,GACLC,MAAMC,GAGT,QAASP,GAAKvB,GACZ,MAAOwB,GAAAX,QAAEY,SACPM,OAAQ,SACR/B,IAAK0B,EAAU1B,IAEhB2B,KAAKC,GACLC,MAAMC,GAGT,QAASF,GAAWI,GAClB,MAAOA,GAGT,QAASF,GAASG,GAChBC,QAAQC,IAAIF,GFFbvB,OAAOC,eAAef,EAAS,cAC7BgB,OAAO,IAEThB,EE/BeuB,WFgCfvB,EE5BeyB,YAVhB,IAAAe,GAAArB,EAAA,GF0CKS,EAAYR,EAAuBoB,GExCxCC,EAAAtB,EAAA,IF4CKuB,EAAYtB,EAAuBqB,GE1ClCX,GAAU,EAAAY,EAAAzB,YF+EV0B,EACA,SAAS5C,EAAQC,KAMjB4C,EACA,SAAS7C,EAAQC,EAASmB,IAEH,SAAS0B,GAAS,YG7F/C1B,GAAA,EAEA,IAAA2B,GAAA3B,EAAA,IAEA,EAAA2B,EAAAvB,YAAWQ,KAAK,SAAAgB,GACd,GAAIC,GAAY,EAEhBD,GAAOE,QAAQ,SAAAC,GACbF,yCAC2BE,EAAKxB,GADhC,mDAEMwB,EAAKxB,GAFX,kBAGMwB,EAAKC,UAHX,kBAIMD,EAAKE,SAJX,kBAKMF,EAAKG,MALX,qBASFR,EAAOS,SAASC,eAAe,SAASC,UAAYR,CAEpD,IAAMS,GAAcZ,EAAOS,SAASI,uBAAuB,aAE3DC,OAAMC,KAAKH,EAAa,SAAAI,GACtBA,EAAKC,QAAU,SAAUC,GACvB,GAAMC,GAAUD,EAAME,MACtBF,GAAMG,kBACN,EAAApB,EAAArB,YAAWuC,EAAQG,WAAW,WAAWnD,MACzC,IAAMoD,GAAMJ,EAAQK,WAAWA,UAC/BD,GAAIC,WAAWC,YAAYF,UH6FHG,KAAKvE,EAAU,WAAa,MAAOwE","file":"main.f7efc5d1434ee7b45b7a.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 28:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = getBaseUrl;\n\tfunction getBaseUrl() {\n\t  return getQueryStringParamaterByName('useMockApi') ? 'http://localhost:3002' : '/';\n\t}\n\t\n\tfunction getQueryStringParamaterByName(name, url) {\n\t  if (!url) {\n\t    url = window.location.href;\n\t  }\n\t  name = name.replace(/[[\\]]/g, '\\\\$&');\n\t  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');\n\t  var results = regex.exec(url);\n\t  if (!results) return null;\n\t  if (!results[2]) return '';\n\t  return decodeURIComponent(results[2].replace(/\\+/g, ' '));\n\t}\n\n/***/ },\n\n/***/ 3:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getUsers = getUsers;\n\texports.deleteUser = deleteUser;\n\t\n\tvar _mithril = __webpack_require__(4);\n\t\n\tvar _mithril2 = _interopRequireDefault(_mithril);\n\t\n\tvar _baseUrl = __webpack_require__(28);\n\t\n\tvar _baseUrl2 = _interopRequireDefault(_baseUrl);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar baseUrl = (0, _baseUrl2.default)();\n\t\n\tfunction getUsers() {\n\t  return get('users');\n\t}\n\t\n\tfunction deleteUser(id) {\n\t  return del('users/' + id);\n\t}\n\t\n\tfunction get(url) {\n\t  return _mithril2.default.request({\n\t    url: baseUrl + url\n\t  }).then(onSuccess).catch(onError);\n\t}\n\t\n\tfunction del(url) {\n\t  return _mithril2.default.request({\n\t    method: 'DELETE',\n\t    url: baseUrl + url\n\t  }).then(onSuccess).catch(onError);\n\t}\n\t\n\tfunction onSuccess(response) {\n\t  return response;\n\t}\n\t\n\tfunction onError(err) {\n\t  console.log(err);\n\t}\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\t__webpack_require__(1);\n\t\n\tvar _userApi = __webpack_require__(3);\n\t\n\t(0, _userApi.getUsers)().then(function (result) {\n\t  var usersBody = '';\n\t\n\t  result.forEach(function (user) {\n\t    usersBody += '<tr>\\n    <td><a href=\\'#\\' data-id=\\'' + user.id + '\\' class=\\'deleteUser\\'> Delete </a></td>\\n    <td>' + user.id + '</td>\\n    <td>' + user.firstName + '</td>\\n    <td>' + user.lastName + '</td>\\n    <td>' + user.email + '</td>\\n    </tr>';\n\t  });\n\t\n\t  global.document.getElementById('users').innerHTML = usersBody;\n\t\n\t  var deleteLinks = global.document.getElementsByClassName('deleteUser');\n\t\n\t  Array.from(deleteLinks, function (link) {\n\t    link.onclick = function (event) {\n\t      var element = event.target;\n\t      event.preventDefault();\n\t      (0, _userApi.deleteUser)(element.attributes['data-id'].value);\n\t      var row = element.parentNode.parentNode;\n\t      row.parentNode.removeChild(row);\n\t    };\n\t  });\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// main.f7efc5d1434ee7b45b7a.js","export default function getBaseUrl () {\n  return getQueryStringParamaterByName('useMockApi') ? 'http://localhost:3002' : '/'\n}\n\nfunction getQueryStringParamaterByName (name, url) {\n  if (!url) {\n    url = window.location.href\n  }\n  name = name.replace(/[[\\]]/g, '\\\\$&')\n  var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)')\n  var results = regex.exec(url)\n  if (!results) return null\n  if (!results[2]) return ''\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.js","import m from 'mithril'\n\nimport getBaseUrl from './baseUrl'\n\nconst baseUrl = getBaseUrl()\n\nexport function getUsers () {\n  return get('users')\n}\n\nexport function deleteUser (id) {\n  return del(`users/${id}`)\n}\n\nfunction get (url) {\n  return m.request({\n    url: baseUrl + url\n  })\n  .then(onSuccess)\n  .catch(onError)\n}\n\nfunction del (url) {\n  return m.request({\n    method: 'DELETE',\n    url: baseUrl + url\n  })\n  .then(onSuccess)\n  .catch(onError)\n}\n\nfunction onSuccess (response) {\n  return response\n}\n\nfunction onError (err) {\n  console.log(err)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.js","import './index.css'\n\nimport {getUsers, deleteUser} from './api/userApi'\n\ngetUsers().then(result => {\n  let usersBody = ''\n\n  result.forEach(user => {\n    usersBody += `<tr>\n    <td><a href='#' data-id='${user.id}' class='deleteUser'> Delete </a></td>\n    <td>${user.id}</td>\n    <td>${user.firstName}</td>\n    <td>${user.lastName}</td>\n    <td>${user.email}</td>\n    </tr>`\n  })\n\n  global.document.getElementById('users').innerHTML = usersBody\n\n  const deleteLinks = global.document.getElementsByClassName('deleteUser')\n\n  Array.from(deleteLinks, link => {\n    link.onclick = function (event) {\n      const element = event.target\n      event.preventDefault()\n      deleteUser(element.attributes['data-id'].value)\n      const row = element.parentNode.parentNode\n      row.parentNode.removeChild(row)\n    }\n  })\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}